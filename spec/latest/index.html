<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Binary Sparse Format Specification</title>
  <meta content="w3c/UD" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-UD" rel="stylesheet">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <meta content="Bikeshed version d9f9c3533, updated Fri Mar 10 11:31:29 2023 -0800" name="generator">
  <link href="http://example.com/url-this-spec-will-live-at" rel="canonical">
  <meta content="64af357b4a1df02d2d5c11c3b7c38a3d991e2547" name="document-revision">
<style>/* style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}
</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}
</style>
<style>/* style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Binary Sparse Format Specification</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#UD">Unofficial Proposal Draft</a>, <time class="dt-updated" datetime="2023-03-17">17 March 2023</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="http://example.com/url-this-spec-will-live-at">http://example.com/url-this-spec-will-live-at</a>
      <dt>Issue Tracking:
      <dd><a href="https://github.com/GraphBLAS/binsparse-specification/issues/">GitHub</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Benjamin Brock</span> (<span class="p-org org">Intel</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Tim Davis</span> (<span class="p-org org">Texas A&amp;M</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Jim Kitchen</span> (<span class="p-org org">Anaconda</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Erik Welch</span> (<span class="p-org org">NVIDIA</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Isaac Virshup</span> (<span class="p-org org">Helmholtz Munich</span>)
      <dd class="editor p-author h-card vcard"><span class="p-name fn">Willow Ahrens</span> (<span class="p-org org">MIT</span>)
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2023 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>A cross-platform binary storage format for sparse data, particularly sparse matrices.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#defs"><span class="secno">2</span> <span class="content">Definitions</span></a>
    <li>
     <a href="#descriptor"><span class="secno">3</span> <span class="content">Binsparse JSON Descriptors</span></a>
     <ol class="toc">
      <li><a href="#key_shape"><span class="secno">3.1</span> <span class="content">Shape</span></a>
      <li>
       <a href="#key_format"><span class="secno">3.2</span> <span class="content">Format</span></a>
       <ol class="toc">
        <li>
         <a href="#predefined_formats"><span class="secno">3.2.1</span> <span class="content">Pre-defined Formats</span></a>
         <ol class="toc">
          <li><a href="#vec_format"><span class="secno">3.2.1.1</span> <span class="content">VEC</span></a>
          <li><a href="#csr_format"><span class="secno">3.2.1.2</span> <span class="content">CSR</span></a>
          <li><a href="#csc_format"><span class="secno">3.2.1.3</span> <span class="content">CSC</span></a>
          <li><a href="#dcsr_format"><span class="secno">3.2.1.4</span> <span class="content">DCSR</span></a>
          <li><a href="#dcsc_format"><span class="secno">3.2.1.5</span> <span class="content">DCSC</span></a>
          <li><a href="#coor_format"><span class="secno">3.2.1.6</span> <span class="content">COOR</span></a>
          <li><a href="#cooc_format"><span class="secno">3.2.1.7</span> <span class="content">COOC</span></a>
          <li><a href="#coo_format"><span class="secno">3.2.1.8</span> <span class="content">COO</span></a>
         </ol>
        <li>
         <a href="#custom_formats"><span class="secno">3.2.2</span> <span class="content">Custom Formats</span></a>
         <ol class="toc">
          <li><a href="#element_level"><span class="secno">3.2.2.1</span> <span class="content">Element</span></a>
          <li><a href="#dense_level"><span class="secno">3.2.2.2</span> <span class="content">Dense</span></a>
          <li><a href="#sparse_level"><span class="secno">3.2.2.3</span> <span class="content">Sparse</span></a>
          <li><a href="#iso_level"><span class="secno">3.2.2.4</span> <span class="content">ISO</span></a>
         </ol>
        <li>
         <a href="#equivalent_formats"><span class="secno">3.2.3</span> <span class="content">Equivalent Formats</span></a>
         <ol class="toc">
          <li><a href="#vec_format_equiv"><span class="secno">3.2.3.1</span> <span class="content">VEC</span></a>
          <li><a href="#csr_format_equiv"><span class="secno">3.2.3.2</span> <span class="content">CSR</span></a>
          <li><a href="#csc_format_equiv"><span class="secno">3.2.3.3</span> <span class="content">CSC</span></a>
          <li><a href="#dcsr_format_equiv"><span class="secno">3.2.3.4</span> <span class="content">DCSR</span></a>
          <li><a href="#dcsc_format_equiv"><span class="secno">3.2.3.5</span> <span class="content">DCSC</span></a>
          <li><a href="#coor_format_equiv"><span class="secno">3.2.3.6</span> <span class="content">COOR</span></a>
          <li><a href="#cooc_format_equiv"><span class="secno">3.2.3.7</span> <span class="content">COOC</span></a>
         </ol>
       </ol>
      <li><a href="#key_data_types"><span class="secno">3.3</span> <span class="content">Data Types</span></a>
     </ol>
    <li>
     <a href="#binary_container"><span class="secno">4</span> <span class="content">Binary Containers</span></a>
     <ol class="toc">
      <li><a href="#supported_containers"><span class="secno">4.1</span> <span class="content">Supported Binary Containers</span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>The Binsparse Specification (name tentative) provides a cross-platform format
for efficiently storing data, particularly sparse multidimensional arrays, in
binary format. Binsparse is designed to be both a standalone and embeddable
format.  It consists of two parts:</p>
   <ul>
    <li data-md>
     <p>a JSON <em>descriptor</em> detailing the structure of the chosen binary storage format</p>
    <li data-md>
     <p>one or more <em>binary arrays</em>, each stored under a predefined dataset name based
on the format</p>
   </ul>
   <p>Both the descriptor and binary arrays are stored in a supported <em>binary container</em>.</p>
   <h2 class="heading settled" data-level="2" id="defs"><span class="secno">2. </span><span class="content">Definitions</span><a class="self-link" href="#defs"></a></h2>
   <p>Binsparse is intended to support multidimensional <em>sparse arrays</em>, meaning arrays
in which not every location has a value.  We refer to each location in the array
with a value as a <em>stored value</em>.  Stored values have associated with them a <em>scalar value</em>, which is the value stored in that location in the array, and one
or more <em>indices</em>, which describe the location where the stored value is located
in the array. Some or all of these indices may be stored explicitly, or they may
be implicitly derived, depending on the storage format.  When stored explicitly,
indices are 0-based positive integers.</p>
   <h2 class="heading settled" data-level="3" id="descriptor"><span class="secno">3. </span><span class="content">Binsparse JSON Descriptors</span><a class="self-link" href="#descriptor"></a></h2>
   <p>Binsparse descriptors are JSON blobs that describe the binary format of sparse
data.  The JSON blob includes several required keys that describe the structure of
the binary storage. Optional attributes may be defined to hold additional metadata.</p>
   <div class="example" id="example-16fff4fc">
    <a class="self-link" href="#example-16fff4fc"></a> 
    <p>Example of a JSON descriptor for a compressed-sparse column (CSC) matrix with 10
rows and 12 columns, containing float32 values, along with user-defined
attributes.</p>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"format"</c-><c- p>:</c-> <c- u>"CSC"</c-><c- p>,</c->
  <c- f>"position_type"</c-><c- p>:</c-> <c- u>"uint64"</c-><c- p>,</c->
  <c- f>"value_type"</c-><c- p>:</c-> <c- u>"uint64"</c-><c- p>,</c->
  <c- f>"index_types"</c-><c- p>:</c-> <c- p>[</c-><c- u>"uint64"</c-><c- p>,</c-><c- u>"uint64"</c-><c- p>]</c->
  <c- f>"shape"</c-><c- p>:</c-> <c- p>[</c-><c- mi>10</c-><c- p>,</c-> <c- mi>12</c-><c- p>],</c->
  <c- f>"attrs"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"original_source"</c-><c- p>:</c-> <c- u>"https://url/of/original/file.mtx"</c-><c- p>,</c->
    <c- f>"author"</c-><c- p>:</c-> <c- u>"John Doe"</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="3.1" id="key_shape"><span class="secno">3.1. </span><span class="content">Shape</span><a class="self-link" href="#key_shape"></a></h3>
   <p>The <code>shape</code> key must be present and shall define the shape of the sparse tensor.
It shall contain a JSON array of integers, with index <code>i</code> containing the size of
the <code>i</code>'th dimension. For matrices, index <code>0</code> shall contain the number of rows,
and index <code>1</code> shall contain the number of columns. For vectors, index <code>0</code> shall
contain the number of indices of the vector if it were dense.</p>
   <p class="note" role="note"><span class="marker">Note:</span> a matrix has shape [<code>number_of_rows</code>, <code>number_of_columns</code>] regardless of whether
the format orientation is row-wise or column-wise.</p>
   <h3 class="heading settled" data-level="3.2" id="key_format"><span class="secno">3.2. </span><span class="content">Format</span><a class="self-link" href="#key_format"></a></h3>
   <p>The <code>format</code> key must be present and shall describe the binary storage format
of dense arrays used to represent the sparse array. The format
defined by the <code>format</code> key determines the named binary arrays that shall exist
in the binary storage container.</p>
   <h4 class="heading settled" data-level="3.2.1" id="predefined_formats"><span class="secno">3.2.1. </span><span class="content">Pre-defined Formats</span><a class="self-link" href="#predefined_formats"></a></h4>
   <p>The following is a list of all pre-defined formats and the arrays that shall
be present in the binary container.</p>
   <h5 class="heading settled" data-level="3.2.1.1" id="vec_format"><span class="secno">3.2.1.1. </span><span class="content">VEC</span><a class="self-link" href="#vec_format"></a></h5>
   <p>Vector format</p>
   <dl>
    <dt data-md>indices_0
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing indices.</p>
    <dt data-md>values
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing stored values.</p>
   </dl>
   <p>Indices shall be sorted and must not be duplicated.</p>
   <h5 class="heading settled" data-level="3.2.1.2" id="csr_format"><span class="secno">3.2.1.2. </span><span class="content">CSR</span><a class="self-link" href="#csr_format"></a></h5>
   <p>Compressed-Sparse Row format</p>
   <dl>
    <dt data-md>pointers_0
    <dd data-md>
     <p>Array of size <code>number_of_rows + 1</code> containing start and end positions by row.</p>
    <dt data-md>indices_1
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing 0-based column indices.</p>
    <dt data-md>values
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing stored values.</p>
   </dl>
   <p>The column indices of the stored values located in row <code>i</code> are located in the range <code>[pointers_0[i], pointers_0[i+1])</code> in the <code>indices_1</code> array. The scalar values for
each of those stored values is stored in the corresponding index in the <code>values</code> array.</p>
   <p>Within a row, column indices shall be sorted and must not be duplicated.</p>
   <h5 class="heading settled" data-level="3.2.1.3" id="csc_format"><span class="secno">3.2.1.3. </span><span class="content">CSC</span><a class="self-link" href="#csc_format"></a></h5>
   <p>Compressed-Sparse Column format</p>
   <dl>
    <dt data-md>pointers_0
    <dd data-md>
     <p>Array of size <code>number_of_columns + 1</code> containing start and end positions by column.</p>
    <dt data-md>indices_1
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing 0-based row indices.</p>
    <dt data-md>values
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing stored values.</p>
   </dl>
   <p>The rows indices of the stored values located in column <code>j</code> are located in the range <code>[pointers_0[j], pointers_0[j+1])</code> in the <code>indices_1</code> array. The scalar values for
each of those stored values is stored in the corresponding index in the <code>values</code> array.</p>
   <p>Within a column, row indices shall be sorted and must not be duplicated.</p>
   <h5 class="heading settled" data-level="3.2.1.4" id="dcsr_format"><span class="secno">3.2.1.4. </span><span class="content">DCSR</span><a class="self-link" href="#dcsr_format"></a></h5>
   <p>Doubly Compressed-Sparse Row format</p>
   <dl>
    <dt data-md>indices_0
    <dd data-md>
     <p>Array of size <code>number_of_nonempty_rows</code> containing 0-based row indices corresponding
  to positions within <code>pointers_0</code>.</p>
    <dt data-md>pointers_0
    <dd data-md>
     <p>Array of size <code>number_of_nonempty_rows + 1</code> containing start and end positions.</p>
    <dt data-md>indices_1
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing 0-based column indices.</p>
    <dt data-md>values
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing stored values.</p>
   </dl>
   <p>DCSR is similar to CSR, except that rows which are entirely empty are not stored. <code>pointers_0</code> contains no repeated values. Because the position within <code>pointers_0</code> no longer dictates the
corresponding row index, <code>indices_0</code> provides the row index.</p>
   <p>Within a row, column indices shall be sorted and must not be duplicated. Row indices shall be
sorted and must not be duplicated.</p>
   <h5 class="heading settled" data-level="3.2.1.5" id="dcsc_format"><span class="secno">3.2.1.5. </span><span class="content">DCSC</span><a class="self-link" href="#dcsc_format"></a></h5>
   <p>Doubly Compressed-Sparse Column format</p>
   <dl>
    <dt data-md>indices_0
    <dd data-md>
     <p>Array of size <code>number_of_nonempty_columns</code> containing 0-based column indices
  corresponding to positions within <code>pointers_0</code>.</p>
    <dt data-md>pointers_0
    <dd data-md>
     <p>Array of size <code>number_of_nonempty_columns + 1</code> containing start and end positions.</p>
    <dt data-md>indices_1
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing 0-based row indices.</p>
    <dt data-md>values
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing stored values.</p>
   </dl>
   <p>DCSC is similar to CSC, except that columns which are entirely empty are not stored. <code>pointers_0</code> contains no repeated values. Because the position within <code>pointers_0</code> no longer dictates the
corresponding column index, <code>indices_0</code> provides the column index.</p>
   <p>Within a column, row indices shall be sorted and must not be duplicated. Column indices shall be
sorted and must not be duplicated.</p>
   <h5 class="heading settled" data-level="3.2.1.6" id="coor_format"><span class="secno">3.2.1.6. </span><span class="content">COOR</span><a class="self-link" href="#coor_format"></a></h5>
   <p>Row-wise Coordinate format</p>
   <dl>
    <dt data-md>indices_0
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing 0-based row indices.</p>
    <dt data-md>indices_1
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing 0-based column indices.</p>
    <dt data-md>values
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing stored values.</p>
   </dl>
   <p>Pairs of (row index, column index) shall be sorted first by row and then by column.
Pairs must not be duplicated.</p>
   <h5 class="heading settled" data-level="3.2.1.7" id="cooc_format"><span class="secno">3.2.1.7. </span><span class="content">COOC</span><a class="self-link" href="#cooc_format"></a></h5>
   <p>Column-wise Coordinate format</p>
   <dl>
    <dt data-md>indices_0
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing 0-based column indices.</p>
    <dt data-md>indices_1
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing 0-based row indices.</p>
    <dt data-md>values
    <dd data-md>
     <p>Array of size <code>number_of_elements</code> containing stored values.</p>
   </dl>
   <p>Pairs of (column index, row index) shall be sorted first by column and then by row.
Pairs must not be duplicated.</p>
   <h5 class="heading settled" data-level="3.2.1.8" id="coo_format"><span class="secno">3.2.1.8. </span><span class="content">COO</span><a class="self-link" href="#coo_format"></a></h5>
   <p>Coordinate format is an alias for <a href="#coor_format">§ 3.2.1.6 COOR</a> format.</p>
   <h4 class="heading settled" data-level="3.2.2" id="custom_formats"><span class="secno">3.2.2. </span><span class="content">Custom Formats</span><a class="self-link" href="#custom_formats"></a></h4>
   <p>Binsparse supports custom multidimensional formats by constructing array descriptors
recursively out of level descriptors. Levels are datastructures which represent
collections of zero or more arrays which all have the same format. The simplest
level format is the element format, which represents scalars. We can stack
scalars into vectors with the dense level format. The dense level format
represents dense vectors by grouping contiguous scalars in an element level
(analogously to the numpy.stack operator). The sparse level format represents
sparse vectors by listing the locations of nonzeros, and storing nonzero scalars
using an element level.</p>
   <p>In addition to storing scalars, dense and sparse levels may themselves store
multidimensional arrays. This leads to multiple ways to store sparse matrices
and tensors. For example, we may stack several sparse vectors together with the
dense level to produce a CSR matrix format, or we may stack sparse vectors with
a sparse level to produce the hypersparse DCSR matrix format.</p>
   <p>When defining a custom format, the <code>format</code> key is defined as the root level
descriptor (a level which will only hold one array). If a level holds many
different arrays, we refer to the <code>p</code>th array as the array in position <code>p</code>.</p>
   <p>Levels are row-major by default (adding an outer level adds a row dimension).
The format descriptor may optionally define a <code>swizzle</code> key, equal to a list of
the described dimensions in the order they should appear. If the tensor we wish
to represent is <code>A</code> and the tensor described by the format descriptor is <code>B</code>,
then <code>A[i_1, ..., i_n] = B[i_(swizzle[1]), ..., i_(swizzle[n])]</code>.</p>
   <p>If the format key is a dictionary, the <code>level</code> key must be present and shall
describe the storage format of the level used to represent the sparse array.</p>
   <p>The level descriptors are dictionaries defined as follows:</p>
   <h5 class="heading settled" data-level="3.2.2.1" id="element_level"><span class="secno">3.2.2.1. </span><span class="content">Element</span><a class="self-link" href="#element_level"></a></h5>
   <p>If the level is an element level, it represents zero or more scalars. It implies
that the following binary arrays are present in the tensor:</p>
   <dl>
    <dt data-md>values
    <dd data-md>
     <p>Array of size <code>number_of_positions</code> whose <code>p</code>th element holds the value of the scalar at position <code>p</code>.</p>
   </dl>
   <h5 class="heading settled" data-level="3.2.2.2" id="dense_level"><span class="secno">3.2.2.2. </span><span class="content">Dense</span><a class="self-link" href="#dense_level"></a></h5>
   <p>If the level is a dense level, the <code>format</code> key must be present. The dense
level represents zero or more arrays whose slices are represented in the format
specified by <code>format</code>. The <code>rank</code> key must be present, and set to an integer
greater than or equal to 1. A dense level of rank 1 represents an array created
by stacking vectors of subarrays in the level specified by <code>subformat</code>. A dense
level of rank 2 represents an array created by stacking matrices of the
subarrays.</p>
   <p>Assuming that the array is of shape <code>I_0, ..., I_(N - 1)</code>, the array at position <code>p</code> in a dense level of rank <code>r</code> is an array whose slice</p>
   <p><code>A[i_0, ..., i_(r - 1), :, ..., :]</code></p>
   <p>is described by the row-major position</p>
   <p><code>q = (((((p * I_0) + i_0) * I_1) + i_1) * I_2 + i_2) * ... + i_(r - 1)</code></p>
   <h5 class="heading settled" data-level="3.2.2.3" id="sparse_level"><span class="secno">3.2.2.3. </span><span class="content">Sparse</span><a class="self-link" href="#sparse_level"></a></h5>
   <p>If the level is an sparse level, the <code>subformat</code> key must be present. The sparse
level represents zero or more <code>N</code>-dimensional arrays whose non-implicit slices
are represented in the format specified by <code>subformat</code>. The <code>rank</code> key must be
present, and set to an integer greater than or equal to 1. It implies that the
following binary arrays are present in the tensor:</p>
   <dl>
    <dt data-md>pointers_(N - 1)
    <dd data-md>
     <p>Array of size <code>number_of_positions + 1</code> whose 1st element is equal to <code>0</code> and whose <code>p + 1</code>th element is equal to the sum of <code>pointers_N[p]</code> and the number of explicitly represented slices in the <code>p</code>th position.</p>
    <dt data-md>indices_(N - 1), ..., indices(N - r)
    <dd data-md>
     <p>There are <code>r</code> such arrays. When <code>A[i_0, ..., i_(r - 1), :, ..., :]</code> is explicitly represented by the subarray in position <code>q</code>, <code>indices_(N-1-s)[q] = i_s</code>. The arrays must be ordered such that the tuples <code>(indices_(N-1)[q], ..., indices_(N-r)[q])</code> are unique and appear in lexicographic order for all <code>q</code> in each range <code>pos[p] &lt;= q &lt; pos[p + 1]</code>. This array must contain no other elements.</p>
   </dl>
   <p>Special note: If the sparse level is the root level, the <code>pointers</code> array should
be ommitted, as its first value is <code>0</code> and its last value is the length of any
of the <code>indices</code> arrays in this level.</p>
   <dl>
    <dt data-md>pointers_(N - 1)
    <dd data-md>
     <p>Array of size <code>number_of_positions + 1</code> whose 1st element is equal to <code>0</code> and whose <code>p + 1</code>th element is equal to the sum of <code>pointers_N[p]</code> and the number of explicitly represented slices in the <code>p</code>th position.</p>
   </dl>
   <h5 class="heading settled" data-level="3.2.2.4" id="iso_level"><span class="secno">3.2.2.4. </span><span class="content">ISO</span><a class="self-link" href="#iso_level"></a></h5>
   <p>When all values of a sparse array are the same identical value, a special level
is provided to compress the value array to a single value rather than
duplicating the same number unnecessarily. Iso levels represents zero or more
scalars of all the same value. It implies that the following binary arrays are
present in the tensor:</p>
   <dl>
    <dt data-md>value
    <dd data-md>
     <p>Array of size <code>1</code> whose element holds the value of all explicit entries in the sparse tensor.</p>
   </dl>
   <h4 class="heading settled" data-level="3.2.3" id="equivalent_formats"><span class="secno">3.2.3. </span><span class="content">Equivalent Formats</span><a class="self-link" href="#equivalent_formats"></a></h4>
   <p>The following formats are equivalent</p>
   <h5 class="heading settled" data-level="3.2.3.1" id="vec_format_equiv"><span class="secno">3.2.3.1. </span><span class="content">VEC</span><a class="self-link" href="#vec_format_equiv"></a></h5>
   <p>Vector format is equivalent to</p>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"level"</c-><c- p>:</c-> <c- u>"dense"</c-><c- p>,</c->
    <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
    <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"level"</c-><c- p>:</c-> <c- u>"element"</c-><c- p>,</c->
    <c- p>}</c->
  <c- p>},</c->
<c- p>}</c->
</pre>
   <h5 class="heading settled" data-level="3.2.3.2" id="csr_format_equiv"><span class="secno">3.2.3.2. </span><span class="content">CSR</span><a class="self-link" href="#csr_format_equiv"></a></h5>
   <p>Compressed-Sparse Row format is equivalent to</p>
   <p>Vector format is equivalent to</p>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"level"</c-><c- p>:</c-> <c- u>"dense"</c-><c- p>,</c->
    <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
    <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"level"</c-><c- p>:</c-> <c- u>"sparse"</c-><c- p>,</c->
      <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
      <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
        <c- f>"level"</c-><c- p>:</c-> <c- u>"element"</c-><c- p>,</c->
      <c- p>}</c->
    <c- p>}</c->
  <c- p>},</c->
<c- p>}</c->
</pre>
   <h5 class="heading settled" data-level="3.2.3.3" id="csc_format_equiv"><span class="secno">3.2.3.3. </span><span class="content">CSC</span><a class="self-link" href="#csc_format_equiv"></a></h5>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"swizzle"</c-><c- p>:</c-> <c- p>[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>0</c-><c- p>],</c->
  <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"level"</c-><c- p>:</c-> <c- u>"dense"</c-><c- p>,</c->
    <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
    <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"level"</c-><c- p>:</c-> <c- u>"sparse"</c-><c- p>,</c->
      <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
      <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
        <c- f>"level"</c-><c- p>:</c-> <c- u>"element"</c-><c- p>,</c->
      <c- p>}</c->
    <c- p>}</c->
  <c- p>},</c->
<c- p>}</c->
</pre>
   <h5 class="heading settled" data-level="3.2.3.4" id="dcsr_format_equiv"><span class="secno">3.2.3.4. </span><span class="content">DCSR</span><a class="self-link" href="#dcsr_format_equiv"></a></h5>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"level"</c-><c- p>:</c-> <c- u>"sparse"</c-><c- p>,</c->
    <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
    <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"level"</c-><c- p>:</c-> <c- u>"sparse"</c-><c- p>,</c->
      <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
      <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
        <c- f>"level"</c-><c- p>:</c-> <c- u>"element"</c-><c- p>,</c->
      <c- p>}</c->
    <c- p>}</c->
  <c- p>},</c->
<c- p>}</c->
</pre>
   <h5 class="heading settled" data-level="3.2.3.5" id="dcsc_format_equiv"><span class="secno">3.2.3.5. </span><span class="content">DCSC</span><a class="self-link" href="#dcsc_format_equiv"></a></h5>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"swizzle"</c-><c- p>:</c-> <c- p>[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>0</c-><c- p>],</c->
    <c- f>"level"</c-><c- p>:</c-> <c- u>"sparse"</c-><c- p>,</c->
    <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
    <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"level"</c-><c- p>:</c-> <c- u>"sparse"</c-><c- p>,</c->
      <c- f>"rank"</c-><c- p>:</c-> <c- u>"1"</c-><c- p>,</c->
      <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
        <c- f>"level"</c-><c- p>:</c-> <c- u>"element"</c-><c- p>,</c->
      <c- p>}</c->
    <c- p>}</c->
  <c- p>},</c->
<c- p>}</c->
</pre>
   <h5 class="heading settled" data-level="3.2.3.6" id="coor_format_equiv"><span class="secno">3.2.3.6. </span><span class="content">COOR</span><a class="self-link" href="#coor_format_equiv"></a></h5>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"level"</c-><c- p>:</c-> <c- u>"sparse"</c-><c- p>,</c->
    <c- f>"rank"</c-><c- p>:</c-> <c- u>"2"</c-><c- p>,</c->
    <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"level"</c-><c- p>:</c-> <c- u>"element"</c-><c- p>,</c->
    <c- p>}</c->
  <c- p>},</c->
<c- p>}</c->
</pre>
   <h5 class="heading settled" data-level="3.2.3.7" id="cooc_format_equiv"><span class="secno">3.2.3.7. </span><span class="content">COOC</span><a class="self-link" href="#cooc_format_equiv"></a></h5>
   <p>Column-wise Coordinate format</p>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"swizzle"</c-><c- p>:</c-> <c- p>[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>0</c-><c- p>],</c->
  <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"level"</c-><c- p>:</c-> <c- u>"sparse"</c-><c- p>,</c->
    <c- f>"rank"</c-><c- p>:</c-> <c- u>"2"</c-><c- p>,</c->
    <c- f>"format"</c-><c- p>:</c-> <c- p>{</c->
      <c- f>"level"</c-><c- p>:</c-> <c- u>"element"</c-><c- p>,</c->
    <c- p>}</c->
  <c- p>},</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="3.3" id="key_data_types"><span class="secno">3.3. </span><span class="content">Data Types</span><a class="self-link" href="#key_data_types"></a></h3>
   <p>The <code>data_types</code> key must be present and shall define the data types of all required
arrays based on the <a href="#key_format">§ 3.2 Format</a>. The data type declares the type of the
in-memory arrays. While these are often identical to the types used when storing
the arrays on disk in the container, the container may choose to store the arrays
in another format. For example, <code>uint64</code> type may be stored as <code>int8</code> if all the
numbers in the array are small enough to fit, but <code>data_types</code> would still list the
array as having type <code>uint64</code>.</p>
   <p>For a given <a href="#key_format">§ 3.2 Format</a>, all named binary arrays for that format shall have a
corresponding name in <code>data_types</code>.</p>
   <div class="example" id="example-abe24900">
    <a class="self-link" href="#example-abe24900"></a> 
    <p>Example of a CSR Matrix whose values are all 1.</p>
    <table>
     <thead>
      <tr>
       <th>
       <th>0
       <th>1
       <th>2
       <th>3
       <th>4
     <tbody>
      <tr>
       <th>0
       <td>.
       <td>.
       <td>.
       <td>1
       <td>.
      <tr>
       <th>1
       <td>.
       <td>1
       <td>.
       <td>.
       <td>1
      <tr>
       <th>2
       <td>.
       <td>.
       <td>.
       <td>.
       <td>.
      <tr>
       <th>3
       <td>.
       <td>1
       <td>1
       <td>.
       <td>.
      <tr>
       <th>4
       <td>.
       <td>.
       <td>.
       <td>1
       <td>.
    </table>
<pre class="language-json highlight"><c- p>{</c->
  <c- f>"format"</c-><c- p>:</c-> <c- u>"CSR"</c-><c- p>,</c->
  <c- f>"shape"</c-><c- p>:</c-> <c- p>[</c-><c- mi>5</c-><c- p>,</c-> <c- mi>5</c-><c- p>],</c->
  <c- f>"data_types"</c-><c- p>:</c-> <c- p>{</c->
    <c- f>"pointers_0"</c-><c- p>:</c-> <c- u>"uint64"</c-><c- p>,</c->
    <c- f>"indices_1"</c-><c- p>:</c-> <c- u>"uint64"</c-><c- p>,</c->
    <c- f>"values"</c-><c- p>:</c-> <c- u>"1x[int8]"</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
    <ul>
     <li data-md>
      <p><code>pointers_0</code> = [0, 1, 3, 3, 5, 6]</p>
     <li data-md>
      <p><code>indices_1</code> = [3, 1, 4, 1, 2, 3]</p>
     <li data-md>
      <p><code>values</code> = [1]</p>
    </ul>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> Structure-only matrices (allowed in matrix market format) can be stored
      using this technique with a value of 1. This adds only a small amount of
      overhead while describing essentially the same matrix.</p>
   <h2 class="heading settled" data-level="4" id="binary_container"><span class="secno">4. </span><span class="content">Binary Containers</span><a class="self-link" href="#binary_container"></a></h2>
    Binary containers must store binary arrays in a standardized, cross-platform
manner, using the corresponding dataset names previously defined. 
   <h3 class="heading settled" data-level="4.1" id="supported_containers"><span class="secno">4.1. </span><span class="content">Supported Binary Containers</span><a class="self-link" href="#supported_containers"></a></h3>
   <p>Currently supported binary containers include HDF5 and NetCDF (but should include more).</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
   <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
   <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
  </dl>